{"ast":null,"code":"import _slicedToArray from\"/Users/aleksihuusko/Desktop/full-stack-reminder-app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from'react';import axios from'axios';import ReminderForm from'./components/ReminderForm';import RemindersList from'./components/RemindersList';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){// initializing states\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),reminders=_useState2[0],setReminders=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),newName=_useState4[0],setNewName=_useState4[1];var _useState5=useState(new Date()),_useState6=_slicedToArray(_useState5,2),newTime=_useState6[0],setNewTime=_useState6[1];// initializing timestamp formatting\nvar dateOptions={day:'numeric',month:'numeric',year:'numeric',hour:'2-digit',minute:'2-digit'};// fetch intialized data from server -p3001 / reminders\nuseEffect(function(){axios.get('http://localhost:3001/api/reminders').then(function(response){setReminders(response.data);});},[]);// handlers for state changing or form submitting\nvar handleNameChange=function handleNameChange(event){setNewName(event.target.value);};var handleTimeChange=function handleTimeChange(time){setNewTime(time);};var handleNewReminder=function handleNewReminder(event){event.preventDefault();if(reminders.some(function(x){return x.name.toLowerCase()===newName.toLowerCase();})){window.alert(\"\".concat(newName,\" is already in the topic list\"));setNewName('');setNewTime(new Date());}else{var newReminderObject={name:newName,timestamp:newTime.toLocaleString('fi-FI',dateOptions),id:reminders.length+1};setReminders(reminders.concat(newReminderObject));axios.post('http://localhost:3001/api/reminders',newReminderObject);setNewName('');setNewTime(new Date());}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(ReminderForm,{handleNewReminder:handleNewReminder,newName:newName,handleNameChange:handleNameChange,handleTimeChange:handleTimeChange,newTime:newTime}),/*#__PURE__*/_jsx(RemindersList,{reminders:reminders,setReminders:setReminders})]});};export default App;","map":{"version":3,"sources":["/Users/aleksihuusko/Desktop/full-stack-reminder-app/client/src/App.js"],"names":["useEffect","useState","axios","ReminderForm","RemindersList","App","reminders","setReminders","newName","setNewName","Date","newTime","setNewTime","dateOptions","day","month","year","hour","minute","get","then","response","data","handleNameChange","event","target","value","handleTimeChange","time","handleNewReminder","preventDefault","some","x","name","toLowerCase","window","alert","newReminderObject","timestamp","toLocaleString","id","length","concat","post"],"mappings":"6IAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,YAAP,KAAyB,2BAAzB,CACA,MAAOC,CAAAA,aAAP,KAA0B,4BAA1B,C,wFAEA,GAAMC,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,EAAM,CAChB;AADgB,cAEkBJ,QAAQ,CAAC,EAAD,CAF1B,wCAETK,SAFS,eAEEC,YAFF,8BAGcN,QAAQ,CAAC,EAAD,CAHtB,yCAGTO,OAHS,eAGAC,UAHA,8BAIcR,QAAQ,CAAC,GAAIS,CAAAA,IAAJ,EAAD,CAJtB,yCAITC,OAJS,eAIAC,UAJA,eAMhB;AACA,GAAMC,CAAAA,WAAW,CAAG,CAClBC,GAAG,CAAE,SADa,CAElBC,KAAK,CAAE,SAFW,CAGlBC,IAAI,CAAE,SAHY,CAIlBC,IAAI,CAAE,SAJY,CAKlBC,MAAM,CAAE,SALU,CAApB,CAQA;AACAlB,SAAS,CAAC,UAAM,CACdE,KAAK,CAACiB,GAAN,CAAU,qCAAV,EAAiDC,IAAjD,CAAsD,SAACC,QAAD,CAAc,CAClEd,YAAY,CAACc,QAAQ,CAACC,IAAV,CAAZ,CACD,CAFD,EAGD,CAJQ,CAIN,EAJM,CAAT,CAMA;AACA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,KAAD,CAAW,CAClCf,UAAU,CAACe,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAV,CACD,CAFD,CAGA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,IAAD,CAAU,CACjChB,UAAU,CAACgB,IAAD,CAAV,CACD,CAFD,CAGA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACL,KAAD,CAAW,CACnCA,KAAK,CAACM,cAAN,GAEA,GAAIxB,SAAS,CAACyB,IAAV,CAAe,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAACC,IAAF,CAAOC,WAAP,KAAyB1B,OAAO,CAAC0B,WAAR,EAAhC,EAAf,CAAJ,CAA2E,CACzEC,MAAM,CAACC,KAAP,WAAgB5B,OAAhB,mCACAC,UAAU,CAAC,EAAD,CAAV,CACAG,UAAU,CAAC,GAAIF,CAAAA,IAAJ,EAAD,CAAV,CACD,CAJD,IAIO,CACL,GAAM2B,CAAAA,iBAAiB,CAAG,CACxBJ,IAAI,CAAEzB,OADkB,CAExB8B,SAAS,CAAE3B,OAAO,CAAC4B,cAAR,CAAuB,OAAvB,CAAgC1B,WAAhC,CAFa,CAGxB2B,EAAE,CAAElC,SAAS,CAACmC,MAAV,CAAmB,CAHC,CAA1B,CAKAlC,YAAY,CAACD,SAAS,CAACoC,MAAV,CAAiBL,iBAAjB,CAAD,CAAZ,CACAnC,KAAK,CAACyC,IAAN,CAAW,qCAAX,CAAkDN,iBAAlD,EACA5B,UAAU,CAAC,EAAD,CAAV,CACAG,UAAU,CAAC,GAAIF,CAAAA,IAAJ,EAAD,CAAV,CACD,CACF,CAlBD,CAoBA,mBACE,oCACE,KAAC,YAAD,EACE,iBAAiB,CAAEmB,iBADrB,CAEE,OAAO,CAAErB,OAFX,CAGE,gBAAgB,CAAEe,gBAHpB,CAIE,gBAAgB,CAAEI,gBAJpB,CAKE,OAAO,CAAEhB,OALX,EADF,cAQE,KAAC,aAAD,EAAe,SAAS,CAAEL,SAA1B,CAAqC,YAAY,CAAEC,YAAnD,EARF,GADF,CAYD,CA7DD,CA+DA,cAAeF,CAAAA,GAAf","sourcesContent":["import { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport ReminderForm from './components/ReminderForm';\nimport RemindersList from './components/RemindersList';\n\nconst App = () => {\n  // initializing states\n  const [reminders, setReminders] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newTime, setNewTime] = useState(new Date());\n\n  // initializing timestamp formatting\n  const dateOptions = {\n    day: 'numeric',\n    month: 'numeric',\n    year: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit',\n  };\n\n  // fetch intialized data from server -p3001 / reminders\n  useEffect(() => {\n    axios.get('http://localhost:3001/api/reminders').then((response) => {\n      setReminders(response.data);\n    });\n  }, []);\n\n  // handlers for state changing or form submitting\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n  const handleTimeChange = (time) => {\n    setNewTime(time);\n  };\n  const handleNewReminder = (event) => {\n    event.preventDefault();\n\n    if (reminders.some((x) => x.name.toLowerCase() === newName.toLowerCase())) {\n      window.alert(`${newName} is already in the topic list`);\n      setNewName('');\n      setNewTime(new Date());\n    } else {\n      const newReminderObject = {\n        name: newName,\n        timestamp: newTime.toLocaleString('fi-FI', dateOptions),\n        id: reminders.length + 1,\n      };\n      setReminders(reminders.concat(newReminderObject));\n      axios.post('http://localhost:3001/api/reminders', newReminderObject);\n      setNewName('');\n      setNewTime(new Date());\n    }\n  };\n\n  return (\n    <div>\n      <ReminderForm\n        handleNewReminder={handleNewReminder}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        handleTimeChange={handleTimeChange}\n        newTime={newTime}\n      />\n      <RemindersList reminders={reminders} setReminders={setReminders} />\n    </div>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}